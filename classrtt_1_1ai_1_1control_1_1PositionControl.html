<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Roboteam AI: rtt::ai::control::PositionControl Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="roboteamLogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Roboteam AI
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classrtt_1_1ai_1_1control_1_1PositionControl.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classrtt_1_1ai_1_1control_1_1PositionControl-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">rtt::ai::control::PositionControl Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="PositionControl_8h_source.html">PositionControl.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a02feb1daed478afadb67666ab1128c71"><td class="memItemLeft" align="right" valign="top">RobotCommand&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtt_1_1ai_1_1control_1_1PositionControl.html#a02feb1daed478afadb67666ab1128c71">computeAndTrackPath</a> (const <a class="el" href="classrtt_1_1world_1_1Field.html">rtt_world::Field</a> &amp;field, int robotId, const <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &amp;currentPosition, const <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &amp;currentVelocity, <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &amp;targetPosition, <a class="el" href="namespacertt_1_1ai_1_1stp.html#ac154a8e7620c1e24b70f641afcf2c5eb">stp::PIDType</a> pidType)</td></tr>
<tr class="separator:a02feb1daed478afadb67666ab1128c71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebe89d070c772826f309714387686315"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtt_1_1ai_1_1control_1_1PositionControl.html#aebe89d070c772826f309714387686315">setRobotPositions</a> (std::vector&lt; <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &gt; &amp;robotPositions)</td></tr>
<tr class="separator:aebe89d070c772826f309714387686315"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a544d739feb3aea71d107b801e2a4054d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtt_1_1ai_1_1control_1_1PositionControl.html#a544d739feb3aea71d107b801e2a4054d">shouldRecalculatePath</a> (const <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &amp;currentPosition, const <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &amp;targetPos, const <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &amp;currentVelocity, int robotId)</td></tr>
<tr class="separator:a544d739feb3aea71d107b801e2a4054d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e739c5dd12e7e5ba077a37cf520c948"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacertt_1_1BB.html#structrtt_1_1BB_1_1CommandCollision">rtt::BB::CommandCollision</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtt_1_1ai_1_1control_1_1PositionControl.html#a9e739c5dd12e7e5ba077a37cf520c948">computeAndTrackTrajectory</a> (const <a class="el" href="classrtt_1_1world_1_1World.html">rtt::world::World</a> *world, const <a class="el" href="classrtt_1_1world_1_1Field.html">rtt::world::Field</a> &amp;field, int robotId, <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> currentPosition, <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> currentVelocity, <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> targetPosition, double maxRobotVelocity, <a class="el" href="namespacertt_1_1ai_1_1stp.html#ac154a8e7620c1e24b70f641afcf2c5eb">stp::PIDType</a> pidType, <a class="el" href="namespacertt_1_1ai_1_1stp.html#structrtt_1_1ai_1_1stp_1_1AvoidObjects">stp::AvoidObjects</a> avoidObjects)</td></tr>
<tr class="memdesc:a9e739c5dd12e7e5ba077a37cf520c948"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a collision-free trajectory and tracks it. Returns also possibly the location of a collision on the path if no correct path can be found.  <a href="classrtt_1_1ai_1_1control_1_1PositionControl.html#a9e739c5dd12e7e5ba077a37cf520c948">More...</a><br /></td></tr>
<tr class="separator:a9e739c5dd12e7e5ba077a37cf520c948"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0f8062685f39526cf72fd1e0b573f11"><td class="memItemLeft" align="right" valign="top">std::optional&lt; <a class="el" href="classrtt_1_1Trajectory2D.html">Trajectory2D</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtt_1_1ai_1_1control_1_1PositionControl.html#aa0f8062685f39526cf72fd1e0b573f11">findNewTrajectory</a> (const <a class="el" href="classrtt_1_1world_1_1World.html">rtt::world::World</a> *world, const <a class="el" href="classrtt_1_1world_1_1Field.html">rtt::world::Field</a> &amp;field, int robotId, <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &amp;currentPosition, <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &amp;currentVelocity, std::optional&lt; <a class="el" href="namespacertt_1_1BB.html#structrtt_1_1BB_1_1CollisionData">BB::CollisionData</a> &gt; &amp;firstCollision, <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &amp;targetPosition, double maxRobotVelocity, double timeStep, <a class="el" href="namespacertt_1_1ai_1_1stp.html#structrtt_1_1ai_1_1stp_1_1AvoidObjects">stp::AvoidObjects</a> AvoidObjects)</td></tr>
<tr class="memdesc:aa0f8062685f39526cf72fd1e0b573f11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tries to find a new trajectory when the current path has a collision on it. It tries this by looking for trajectories which go to intermediate points in the area of the collision and from these paths again to the target. Also draws the intermediate point and path in the interface.  <a href="classrtt_1_1ai_1_1control_1_1PositionControl.html#aa0f8062685f39526cf72fd1e0b573f11">More...</a><br /></td></tr>
<tr class="separator:aa0f8062685f39526cf72fd1e0b573f11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8475106c3fb555ab4eb1c8dd903e70d"><td class="memItemLeft" align="right" valign="top">std::optional&lt; <a class="el" href="classrtt_1_1Trajectory2D.html">Trajectory2D</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtt_1_1ai_1_1control_1_1PositionControl.html#ac8475106c3fb555ab4eb1c8dd903e70d">calculateTrajectoryAroundCollision</a> (const <a class="el" href="classrtt_1_1world_1_1World.html">rtt::world::World</a> *world, const <a class="el" href="classrtt_1_1world_1_1Field.html">rtt::world::Field</a> &amp;field, std::optional&lt; <a class="el" href="namespacertt_1_1BB.html#structrtt_1_1BB_1_1CollisionData">BB::CollisionData</a> &gt; &amp;intermediatePathCollision, <a class="el" href="classrtt_1_1Trajectory2D.html">Trajectory2D</a> trajectoryToIntermediatePoint, <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &amp;targetPosition, int robotId, double maxRobotVelocity, double timeStep, <a class="el" href="namespacertt_1_1ai_1_1stp.html#structrtt_1_1ai_1_1stp_1_1AvoidObjects">stp::AvoidObjects</a> avoidObjects)</td></tr>
<tr class="memdesc:ac8475106c3fb555ab4eb1c8dd903e70d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates a path to the targetPosition from a point on the path to an intermediate path and return it if there are no collisions.  <a href="classrtt_1_1ai_1_1control_1_1PositionControl.html#ac8475106c3fb555ab4eb1c8dd903e70d">More...</a><br /></td></tr>
<tr class="separator:ac8475106c3fb555ab4eb1c8dd903e70d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d30ccdff8213c7421527d5307fd160b"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtt_1_1ai_1_1control_1_1PositionControl.html#a4d30ccdff8213c7421527d5307fd160b">createIntermediatePoints</a> (const <a class="el" href="classrtt_1_1world_1_1Field.html">rtt::world::Field</a> &amp;field, int robotId, std::optional&lt; <a class="el" href="namespacertt_1_1BB.html#structrtt_1_1BB_1_1CollisionData">BB::CollisionData</a> &gt; &amp;firstCollision, <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &amp;targetPosition)</td></tr>
<tr class="separator:a4d30ccdff8213c7421527d5307fd160b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d50398e7b85759b70ffb60f1eb495a5"><td class="memItemLeft" align="right" valign="top">std::priority_queue&lt; std::pair&lt; double, <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &gt;, std::vector&lt; std::pair&lt; double, <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &gt; &gt;, std::greater&lt;&gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtt_1_1ai_1_1control_1_1PositionControl.html#a9d50398e7b85759b70ffb60f1eb495a5">scoreIntermediatePoints</a> (std::vector&lt; <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &gt; &amp;intermediatePoints, std::optional&lt; <a class="el" href="namespacertt_1_1BB.html#structrtt_1_1BB_1_1CollisionData">BB::CollisionData</a> &gt; &amp;firstCollision)</td></tr>
<tr class="memdesc:a9d50398e7b85759b70ffb60f1eb495a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gives each intermediate point a score for how close the point is to the collisionPosition.  <a href="classrtt_1_1ai_1_1control_1_1PositionControl.html#a9d50398e7b85759b70ffb60f1eb495a5">More...</a><br /></td></tr>
<tr class="separator:a9d50398e7b85759b70ffb60f1eb495a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a292ce1b38dc90f02072764ae85b4ce2e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtt_1_1ai_1_1control_1_1PositionControl.html#a292ce1b38dc90f02072764ae85b4ce2e">shouldRecalculateTrajectory</a> (const <a class="el" href="classrtt_1_1world_1_1World.html">rtt::world::World</a> *world, const <a class="el" href="classrtt_1_1world_1_1Field.html">rtt::world::Field</a> &amp;field, int robotId, <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> targetPosition, <a class="el" href="namespacertt_1_1ai_1_1stp.html#structrtt_1_1ai_1_1stp_1_1AvoidObjects">ai::stp::AvoidObjects</a>)</td></tr>
<tr class="memdesc:a292ce1b38dc90f02072764ae85b4ce2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the current path should be recalculated:  <a href="classrtt_1_1ai_1_1control_1_1PositionControl.html#a292ce1b38dc90f02072764ae85b4ce2e">More...</a><br /></td></tr>
<tr class="separator:a292ce1b38dc90f02072764ae85b4ce2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ae29ec26006b41330c2d0de07dacd9adf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classrtt_1_1ai_1_1control_1_1CollisionDetector.html">CollisionDetector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtt_1_1ai_1_1control_1_1PositionControl.html#ae29ec26006b41330c2d0de07dacd9adf">collisionDetector</a></td></tr>
<tr class="separator:ae29ec26006b41330c2d0de07dacd9adf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51bcfe99ceaa453d48a4aa9791ccb9d2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classrtt_1_1BB_1_1WorldObjects.html">rtt::BB::WorldObjects</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtt_1_1ai_1_1control_1_1PositionControl.html#a51bcfe99ceaa453d48a4aa9791ccb9d2">worldObjects</a></td></tr>
<tr class="separator:a51bcfe99ceaa453d48a4aa9791ccb9d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf80121f8f99fc76196fc6fb649a37a6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classrtt_1_1ai_1_1control_1_1NumTreesPlanning.html">NumTreesPlanning</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtt_1_1ai_1_1control_1_1PositionControl.html#aaf80121f8f99fc76196fc6fb649a37a6">pathPlanningAlgorithm</a> = <a class="el" href="classrtt_1_1ai_1_1control_1_1NumTreesPlanning.html">NumTreesPlanning</a>(<a class="el" href="classrtt_1_1ai_1_1control_1_1PositionControl.html#ae29ec26006b41330c2d0de07dacd9adf">collisionDetector</a>)</td></tr>
<tr class="separator:aaf80121f8f99fc76196fc6fb649a37a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b743b296e7be029adea3c752d39d582"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classrtt_1_1ai_1_1control_1_1DensePathTracking.html">DensePathTracking</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtt_1_1ai_1_1control_1_1PositionControl.html#a4b743b296e7be029adea3c752d39d582">pathTrackingAlgorithm</a></td></tr>
<tr class="separator:a4b743b296e7be029adea3c752d39d582"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6000397519f7174f3816fc710eefb7ad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classrtt_1_1ai_1_1control_1_1BBTPathTracking.html">BBTPathTracking</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtt_1_1ai_1_1control_1_1PositionControl.html#a6000397519f7174f3816fc710eefb7ad">pathTrackingAlgorithmBBT</a></td></tr>
<tr class="separator:a6000397519f7174f3816fc710eefb7ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77ba3daf9363867a7d4a9ae7007e2334"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; int, <a class="el" href="classrtt_1_1Trajectory2D.html">Trajectory2D</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtt_1_1ai_1_1control_1_1PositionControl.html#a77ba3daf9363867a7d4a9ae7007e2334">computedTrajectories</a></td></tr>
<tr class="separator:a77ba3daf9363867a7d4a9ae7007e2334"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9066927016e6dcb348d694da2d9bbab"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; int, std::vector&lt; <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtt_1_1ai_1_1control_1_1PositionControl.html#aa9066927016e6dcb348d694da2d9bbab">computedPaths</a></td></tr>
<tr class="separator:aa9066927016e6dcb348d694da2d9bbab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf0ba3ba56d70da646d1d864e6dfbce7"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; int, std::vector&lt; <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtt_1_1ai_1_1control_1_1PositionControl.html#abf0ba3ba56d70da646d1d864e6dfbce7">computedPathsVel</a></td></tr>
<tr class="separator:abf0ba3ba56d70da646d1d864e6dfbce7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a321a38a458ea4da0ea07c5fcec2c3571"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; int, std::vector&lt; std::pair&lt; <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a>, <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtt_1_1ai_1_1control_1_1PositionControl.html#a321a38a458ea4da0ea07c5fcec2c3571">computedPathsPosVel</a></td></tr>
<tr class="separator:a321a38a458ea4da0ea07c5fcec2c3571"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:ac6c21f863f6ccb19984e9c5b8a78c6e1"><td class="memItemLeft" align="right" valign="top">static constexpr double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrtt_1_1ai_1_1control_1_1PositionControl.html#ac6c21f863f6ccb19984e9c5b8a78c6e1">FINAL_AVOIDANCE_DISTANCE</a> = 4 * <a class="el" href="classrtt_1_1ai_1_1Constants.html#af98ade4368626149da14fd9c2ed2a3c2">Constants::ROBOT_RADIUS</a>()</td></tr>
<tr class="separator:ac6c21f863f6ccb19984e9c5b8a78c6e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The main position control class. Use this for your robot position control requirements. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ac8475106c3fb555ab4eb1c8dd903e70d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8475106c3fb555ab4eb1c8dd903e70d">&#9670;&nbsp;</a></span>calculateTrajectoryAroundCollision()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; <a class="el" href="classrtt_1_1Trajectory2D.html">Trajectory2D</a> &gt; rtt::ai::control::PositionControl::calculateTrajectoryAroundCollision </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrtt_1_1world_1_1World.html">rtt::world::World</a> *&#160;</td>
          <td class="paramname"><em>world</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classrtt_1_1world_1_1Field.html">rtt::world::Field</a> &amp;&#160;</td>
          <td class="paramname"><em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; <a class="el" href="namespacertt_1_1BB.html#structrtt_1_1BB_1_1CollisionData">BB::CollisionData</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>intermediatePathCollision</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classrtt_1_1Trajectory2D.html">Trajectory2D</a>&#160;</td>
          <td class="paramname"><em>trajectoryToIntermediatePoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &amp;&#160;</td>
          <td class="paramname"><em>targetPosition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>robotId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>maxRobotVelocity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>timeStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacertt_1_1ai_1_1stp.html#structrtt_1_1ai_1_1stp_1_1AvoidObjects">stp::AvoidObjects</a>&#160;</td>
          <td class="paramname"><em>avoidObjects</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates a path to the targetPosition from a point on the path to an intermediate path and return it if there are no collisions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">world</td><td>the world object </td></tr>
    <tr><td class="paramname">field</td><td>the field object, used onwards by the collision detector </td></tr>
    <tr><td class="paramname">intermediatePathCollision</td><td>if intermediatePathCollision has no value, return {} </td></tr>
    <tr><td class="paramname">pathToIntermediatePoint</td><td>used for getting new start points of the BBT to the targetPosition </td></tr>
    <tr><td class="paramname">targetPosition</td><td>the desired position that the robot has to reach </td></tr>
    <tr><td class="paramname">robotId</td><td>the ID of the robot for which the path is calculated </td></tr>
    <tr><td class="paramname">timeStep</td><td>time in seconds between new start points on the BBT to the intermediatePoint </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>optional Trajectory if a new path was found </dd></dl>

</div>
</div>
<a id="a02feb1daed478afadb67666ab1128c71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02feb1daed478afadb67666ab1128c71">&#9670;&nbsp;</a></span>computeAndTrackPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RobotCommand rtt::ai::control::PositionControl::computeAndTrackPath </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrtt_1_1world_1_1Field.html">rtt_world::Field</a> &amp;&#160;</td>
          <td class="paramname"><em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>robotId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &amp;&#160;</td>
          <td class="paramname"><em>currentPosition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &amp;&#160;</td>
          <td class="paramname"><em>currentVelocity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &amp;&#160;</td>
          <td class="paramname"><em>targetPosition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacertt_1_1ai_1_1stp.html#ac154a8e7620c1e24b70f641afcf2c5eb">stp::PIDType</a>&#160;</td>
          <td class="paramname"><em>pidType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generates a path according to the selected planning algorithm, and tracks it using the selected tracking algorithm. In the case a collision is detected (using the collision detector), the path is recalculated. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">field</td><td>the field object, used onwards by the collision detector </td></tr>
    <tr><td class="paramname">robotId</td><td>the ID of the robot for which the path is calculated </td></tr>
    <tr><td class="paramname">currentPosition</td><td>the current position of the aforementioned robot </td></tr>
    <tr><td class="paramname">currentVelocity</td><td>its velocity </td></tr>
    <tr><td class="paramname">targetPosition</td><td>the desired position that the robot has to reach </td></tr>
    <tr><td class="paramname">pidType</td><td>The desired PID type (intercept, regular, keeper etc.) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a RobotCommand, which can be fed directly in the output </dd></dl>

</div>
</div>
<a id="a9e739c5dd12e7e5ba077a37cf520c948"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e739c5dd12e7e5ba077a37cf520c948">&#9670;&nbsp;</a></span>computeAndTrackTrajectory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacertt_1_1BB.html#structrtt_1_1BB_1_1CommandCollision">rtt::BB::CommandCollision</a> rtt::ai::control::PositionControl::computeAndTrackTrajectory </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrtt_1_1world_1_1World.html">rtt::world::World</a> *&#160;</td>
          <td class="paramname"><em>world</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classrtt_1_1world_1_1Field.html">rtt::world::Field</a> &amp;&#160;</td>
          <td class="paramname"><em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>robotId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a>&#160;</td>
          <td class="paramname"><em>currentPosition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a>&#160;</td>
          <td class="paramname"><em>currentVelocity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a>&#160;</td>
          <td class="paramname"><em>targetPosition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>maxRobotVelocity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacertt_1_1ai_1_1stp.html#ac154a8e7620c1e24b70f641afcf2c5eb">stp::PIDType</a>&#160;</td>
          <td class="paramname"><em>pidType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacertt_1_1ai_1_1stp.html#structrtt_1_1ai_1_1stp_1_1AvoidObjects">stp::AvoidObjects</a>&#160;</td>
          <td class="paramname"><em>avoidObjects</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates a collision-free trajectory and tracks it. Returns also possibly the location of a collision on the path if no correct path can be found. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">world</td><td>a pointer to the current world </td></tr>
    <tr><td class="paramname">field</td><td>the field object, used onwards by the collision detector </td></tr>
    <tr><td class="paramname">robotId</td><td>the ID of the robot for which the path is calculated </td></tr>
    <tr><td class="paramname">currentPosition</td><td>the current position of the aforementioned robot </td></tr>
    <tr><td class="paramname">currentVelocity</td><td>its velocity </td></tr>
    <tr><td class="paramname">targetPosition</td><td>the desired position that the robot has to reach </td></tr>
    <tr><td class="paramname">maxRobotVelocity</td><td>the maximum velocity that the robot is allowed to have </td></tr>
    <tr><td class="paramname">pidType</td><td>The desired PID type (intercept, regular, keeper etc.) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A RobotCommand and optional with the location of the first collision on the path </dd></dl>

</div>
</div>
<a id="a4d30ccdff8213c7421527d5307fd160b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d30ccdff8213c7421527d5307fd160b">&#9670;&nbsp;</a></span>createIntermediatePoints()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &gt; rtt::ai::control::PositionControl::createIntermediatePoints </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrtt_1_1world_1_1Field.html">rtt::world::Field</a> &amp;&#160;</td>
          <td class="paramname"><em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>robotId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; <a class="el" href="namespacertt_1_1BB.html#structrtt_1_1BB_1_1CollisionData">BB::CollisionData</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>firstCollision</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &amp;&#160;</td>
          <td class="paramname"><em>targetPosition</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates intermediate points to make a path to. First, a pointToDrawFrom is picked by drawing a line from the target position to the obstacle and extending that line further towards our currentPosition. Second, make half circle of intermediatePoints pointed towards obstaclePosition, originating from pointToDrawFrom </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">field</td><td>the field object, used onwards by the collision detector </td></tr>
    <tr><td class="paramname">robotId</td><td>the ID of the robot for which the path is calculated </td></tr>
    <tr><td class="paramname">firstCollision</td><td>location of the first collision on the current path </td></tr>
    <tr><td class="paramname">targetPosition</td><td>the desired position that the robot has to reach </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A vector with coordinates of the intermediate points </dd></dl>

</div>
</div>
<a id="aa0f8062685f39526cf72fd1e0b573f11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0f8062685f39526cf72fd1e0b573f11">&#9670;&nbsp;</a></span>findNewTrajectory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; <a class="el" href="classrtt_1_1Trajectory2D.html">Trajectory2D</a> &gt; rtt::ai::control::PositionControl::findNewTrajectory </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrtt_1_1world_1_1World.html">rtt::world::World</a> *&#160;</td>
          <td class="paramname"><em>world</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classrtt_1_1world_1_1Field.html">rtt::world::Field</a> &amp;&#160;</td>
          <td class="paramname"><em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>robotId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &amp;&#160;</td>
          <td class="paramname"><em>currentPosition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &amp;&#160;</td>
          <td class="paramname"><em>currentVelocity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; <a class="el" href="namespacertt_1_1BB.html#structrtt_1_1BB_1_1CollisionData">BB::CollisionData</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>firstCollision</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &amp;&#160;</td>
          <td class="paramname"><em>targetPosition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>maxRobotVelocity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>timeStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacertt_1_1ai_1_1stp.html#structrtt_1_1ai_1_1stp_1_1AvoidObjects">stp::AvoidObjects</a>&#160;</td>
          <td class="paramname"><em>AvoidObjects</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tries to find a new trajectory when the current path has a collision on it. It tries this by looking for trajectories which go to intermediate points in the area of the collision and from these paths again to the target. Also draws the intermediate point and path in the interface. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">world</td><td>the world object </td></tr>
    <tr><td class="paramname">field</td><td>the field object, used onwards by the collision detector </td></tr>
    <tr><td class="paramname">robotId</td><td>the ID of the robot for which the path is calculated </td></tr>
    <tr><td class="paramname">currentPosition</td><td>the current position of the aforementioned robot </td></tr>
    <tr><td class="paramname">currentVelocity</td><td>its velocity </td></tr>
    <tr><td class="paramname">firstCollision</td><td>location of the first collision on the current path </td></tr>
    <tr><td class="paramname">targetPosition</td><td>the desired position that the robot has to reach </td></tr>
    <tr><td class="paramname">maxRobotVelocity</td><td>the maximum velocity the robot is allowed to have </td></tr>
    <tr><td class="paramname">timeStep</td><td>the time between path points when approaching the path </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An optional with a new path </dd></dl>

</div>
</div>
<a id="a9d50398e7b85759b70ffb60f1eb495a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d50398e7b85759b70ffb60f1eb495a5">&#9670;&nbsp;</a></span>scoreIntermediatePoints()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::priority_queue&lt; std::pair&lt; double, <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &gt;, std::vector&lt; std::pair&lt; double, <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &gt; &gt;, std::greater&lt;&gt; &gt; rtt::ai::control::PositionControl::scoreIntermediatePoints </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>intermediatePoints</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; <a class="el" href="namespacertt_1_1BB.html#structrtt_1_1BB_1_1CollisionData">BB::CollisionData</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>firstCollision</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gives each intermediate point a score for how close the point is to the collisionPosition. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">intermediatePoints</td><td>the intermediate points for trying to find a new path </td></tr>
    <tr><td class="paramname">firstCollision</td><td>used for scoring the points </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A priority_queue to sort the points </dd></dl>

</div>
</div>
<a id="aebe89d070c772826f309714387686315"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebe89d070c772826f309714387686315">&#9670;&nbsp;</a></span>setRobotPositions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtt::ai::control::PositionControl::setRobotPositions </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>robotPositions</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Updates the robot view vector </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">robotPositions</td><td>the position vector of the robots </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a544d739feb3aea71d107b801e2a4054d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a544d739feb3aea71d107b801e2a4054d">&#9670;&nbsp;</a></span>shouldRecalculatePath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool rtt::ai::control::PositionControl::shouldRecalculatePath </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &amp;&#160;</td>
          <td class="paramname"><em>currentPosition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &amp;&#160;</td>
          <td class="paramname"><em>targetPos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a> &amp;&#160;</td>
          <td class="paramname"><em>currentVelocity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>robotId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The computed path should be recalculated if: <br  />
</p><ul>
<li>it is empty (no path yet) <br  />
</li>
<li>the target position changed with at least MAX_TARGET_DEVIATION <br  />
</li>
<li>the robot will collide with another one by the next path point (ignored if the robot is not moving) <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">targetPos</td><td>final target position </td></tr>
    <tr><td class="paramname">robotId</td><td>the ID of the current robot </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if one of the above conditions are true, false otherwise </dd></dl>
</li>
</ul>

</div>
</div>
<a id="a292ce1b38dc90f02072764ae85b4ce2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a292ce1b38dc90f02072764ae85b4ce2e">&#9670;&nbsp;</a></span>shouldRecalculateTrajectory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool rtt::ai::control::PositionControl::shouldRecalculateTrajectory </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrtt_1_1world_1_1World.html">rtt::world::World</a> *&#160;</td>
          <td class="paramname"><em>world</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classrtt_1_1world_1_1Field.html">rtt::world::Field</a> &amp;&#160;</td>
          <td class="paramname"><em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>robotId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a>&#160;</td>
          <td class="paramname"><em>targetPosition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacertt_1_1ai_1_1stp.html#structrtt_1_1ai_1_1stp_1_1AvoidObjects">ai::stp::AvoidObjects</a>&#160;</td>
          <td class="paramname"><em>avoidObjects</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the current path should be recalculated: </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">world</td><td>a pointer to the current world </td></tr>
    <tr><td class="paramname">field</td><td>the field object, used onwards by the collision detector </td></tr>
    <tr><td class="paramname">robotId</td><td>the ID of the robot for which the path is calculated </td></tr>
    <tr><td class="paramname">currentPosition</td><td>the current position of the aforementioned robot </td></tr>
    <tr><td class="paramname">currentVelocity</td><td>its velocity </td></tr>
    <tr><td class="paramname">targetPosition</td><td>the desired position that the robot has to reachsho </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Boolean that is 1 if the path needs to be recalculated </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ae29ec26006b41330c2d0de07dacd9adf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae29ec26006b41330c2d0de07dacd9adf">&#9670;&nbsp;</a></span>collisionDetector</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrtt_1_1ai_1_1control_1_1CollisionDetector.html">CollisionDetector</a> rtt::ai::control::PositionControl::collisionDetector</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aa9066927016e6dcb348d694da2d9bbab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9066927016e6dcb348d694da2d9bbab">&#9670;&nbsp;</a></span>computedPaths</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;int, std::vector&lt;<a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a>&gt; &gt; rtt::ai::control::PositionControl::computedPaths</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a321a38a458ea4da0ea07c5fcec2c3571"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a321a38a458ea4da0ea07c5fcec2c3571">&#9670;&nbsp;</a></span>computedPathsPosVel</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;int, std::vector&lt;std::pair&lt;<a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a>, <a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a>&gt; &gt; &gt; rtt::ai::control::PositionControl::computedPathsPosVel</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="abf0ba3ba56d70da646d1d864e6dfbce7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf0ba3ba56d70da646d1d864e6dfbce7">&#9670;&nbsp;</a></span>computedPathsVel</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;int, std::vector&lt;<a class="el" href="ControlUtils_8h.html#acfb8903fac5809ad6180aee41b325f82">Vector2</a>&gt; &gt; rtt::ai::control::PositionControl::computedPathsVel</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a77ba3daf9363867a7d4a9ae7007e2334"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77ba3daf9363867a7d4a9ae7007e2334">&#9670;&nbsp;</a></span>computedTrajectories</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;int, <a class="el" href="classrtt_1_1Trajectory2D.html">Trajectory2D</a>&gt; rtt::ai::control::PositionControl::computedTrajectories</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac6c21f863f6ccb19984e9c5b8a78c6e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6c21f863f6ccb19984e9c5b8a78c6e1">&#9670;&nbsp;</a></span>FINAL_AVOIDANCE_DISTANCE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr double rtt::ai::control::PositionControl::FINAL_AVOIDANCE_DISTANCE = 4 * <a class="el" href="classrtt_1_1ai_1_1Constants.html#af98ade4368626149da14fd9c2ed2a3c2">Constants::ROBOT_RADIUS</a>()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>the distance to the target position at which the robot will stop if it detects a collision (e.g. target is inside a robot) </p>

</div>
</div>
<a id="aaf80121f8f99fc76196fc6fb649a37a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf80121f8f99fc76196fc6fb649a37a6">&#9670;&nbsp;</a></span>pathPlanningAlgorithm</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrtt_1_1ai_1_1control_1_1NumTreesPlanning.html">NumTreesPlanning</a> rtt::ai::control::PositionControl::pathPlanningAlgorithm = <a class="el" href="classrtt_1_1ai_1_1control_1_1NumTreesPlanning.html">NumTreesPlanning</a>(<a class="el" href="classrtt_1_1ai_1_1control_1_1PositionControl.html#ae29ec26006b41330c2d0de07dacd9adf">collisionDetector</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4b743b296e7be029adea3c752d39d582"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b743b296e7be029adea3c752d39d582">&#9670;&nbsp;</a></span>pathTrackingAlgorithm</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrtt_1_1ai_1_1control_1_1DensePathTracking.html">DensePathTracking</a> rtt::ai::control::PositionControl::pathTrackingAlgorithm</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6000397519f7174f3816fc710eefb7ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6000397519f7174f3816fc710eefb7ad">&#9670;&nbsp;</a></span>pathTrackingAlgorithmBBT</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrtt_1_1ai_1_1control_1_1BBTPathTracking.html">BBTPathTracking</a> rtt::ai::control::PositionControl::pathTrackingAlgorithmBBT</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a51bcfe99ceaa453d48a4aa9791ccb9d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51bcfe99ceaa453d48a4aa9791ccb9d2">&#9670;&nbsp;</a></span>worldObjects</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrtt_1_1BB_1_1WorldObjects.html">rtt::BB::WorldObjects</a> rtt::ai::control::PositionControl::worldObjects</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/roboteam_ai/control/positionControl/<a class="el" href="PositionControl_8h_source.html">PositionControl.h</a></li>
<li>src/control/positionControl/<a class="el" href="PositionControl_8cpp.html">PositionControl.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacertt.html">rtt</a></li><li class="navelem"><a class="el" href="namespacertt_1_1ai.html">ai</a></li><li class="navelem"><a class="el" href="namespacertt_1_1ai_1_1control.html">control</a></li><li class="navelem"><a class="el" href="classrtt_1_1ai_1_1control_1_1PositionControl.html">PositionControl</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
